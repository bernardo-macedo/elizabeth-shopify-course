<div class="py-8 px-10 md:px-44">

  {% paginate blog.articles by section.settings.articles_per_page %}

    <h1 class="text-3xl md:text-5xl mb-8">{{ blog.title }}</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-16 md:gap-8 mb-4">
      {% for article in blog.articles %}
        <article>
          <a class="hover:opacity-60" href="{{ article.url }}">
            {% if section.settings.show_article_image %}
              {% if article.image %}
                <img
                  class="w-full h-44 object-cover"
                  width="100%"
                  height="auto"
                  src="{{ article.image |  image_url: width: '1000'  }}"
                  alt="{{ article.image.alt }}">
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'w-30' }}
              {% endif %}
            {% endif %}

            <h2 class="text-xl font-medium md:text-xl mt-4">{{ article.title }}</h2>
            {% if section.settings.show_article_date %}
              <time class="text-xs text-gray-500" datetime="{{ article.published_at | date: "%Y-%m-%d" }}">
                {{ article.published_at | date: '%Y-%m-%d' }}
              </time>
            {% endif %}

            {% if article.excerpt.size > 0 %}
              <p class="mt-4 text-gray-500">{{ article.excerpt | strip_html | truncatewords: 15 }}</p>
            {% else %}
              <p class="mt-4 text-gray-500">{{ article.content | strip_html | truncatewords: 15 }}</p>
            {% endif %}
          </a>
        </article>
      {% endfor %}

    </div>
    <div>
      {% render 'pagination'
        , paginate: paginate %}
    </div>
  {% endpaginate %}
</div>

{% schema %}
  {
    "name": "Blog Template",
    "settings": [
      {
        "type": "select",
        "id": "articles_per_page",
        "default": "6",
        "label": "Number of articles per page",
        "options": [
          {
            "value": "6",
            "label": "6"
          }, {
            "value": "12",
            "label": "12"
          }, {
            "value": "24",
            "label": "24"
          }
        ]
      }, {
        "type": "checkbox",
        "id": "show_article_image",
        "default": true,
        "label": "Show article image"
      }, {
        "type": "checkbox",
        "id": "show_article_date",
        "default": true,
        "label": "Show article date"
      }
    ]
  }
{% endschema %}